"use strict";(()=>{var C=e=>`rgba(100,100,100,${e})`,p=(e,o,n,s,d,r)=>{e.strokeStyle=C(r),e.beginPath(),e.moveTo(o,n),e.lineTo(s,d),e.stroke()};var v=(e,o)=>{e.fillStyle=C(1),e.beginPath(),e.arc(o.x,o.y,3,0,2*Math.PI,!1),e.fill()};var f=()=>Math.random()*.1*2-.1,L=e=>{let o=document.querySelector(e),n,s,d=()=>{n=o.clientWidth,s=o.clientHeight,o.setAttribute("width",n.toString()),o.setAttribute("height",s.toString())};d(),window.onresize=d;let r=Array(100).fill(void 0).map(()=>({x:Math.random()*n,y:Math.random()*s,xSpeed:f(),ySpeed:f(),links:[]}));r.forEach((t,u,c)=>{c.slice(u+1).map(a=>({dot1:t,dot2:a,weight:0})).forEach(a=>{a.dot1.links.push(a),a.dot2.links.push(a)})});let m=o.getContext("2d"),i=t=>{window.requestAnimationFrame(()=>{m.clearRect(0,0,n,s);let u=Date.now(),c=u-t;P(r,n,s,c,m),l(r,n,s,c,m),i(u)})};i(Date.now())},x=(e,o,n)=>(e+o+n)%n,P=(e,o,n,s,d)=>{e.forEach(r=>{r.x=x(r.x,r.xSpeed*s,o),r.y=x(r.y,r.ySpeed*s,n),v(d,r)})},w=(e,o)=>Math.min(Math.abs(e-o),Math.abs(o-e)),S=(e,o,n)=>{let s=Math.abs(e-o);return s>n/2?n-s:s},M=(e,o,n,s)=>{let d=S(e.x,o.x,n),r=S(e.y,o.y,s);return Math.sqrt(Math.pow(d,2)+Math.pow(r,2))};var l=(e,o,n,s,d)=>{let r=e.reduce((i,t)=>{let u=t.links.sort((c,a)=>{let b=M(t,c.dot1===t?c.dot2:c.dot1,o,n),h=M(t,a.dot1===t?a.dot2:a.dot1,o,n);return b-h});return i.concat(u.slice(0,2))},[]),m=.001*s;e.forEach(i=>{i.links.filter(t=>t.dot1===i).forEach((t,u,c)=>{if(r.indexOf(t)>0?t.weight=Math.min(1,t.weight+m):t.weight=Math.max(0,t.weight-m),t.weight>0){let a=w(t.dot1.x,t.dot2.x)>o/2,b=w(t.dot1.y,t.dot2.y)>n/2;if(!a&&!b)p(d,t.dot1.x,t.dot1.y,t.dot2.x,t.dot2.y,t.weight);else{let h=t.dot1.x<t.dot2.x,D=t.dot1.y<t.dot2.y,y=a?o:0,g=b?n:0;p(d,t.dot1.x,t.dot1.y,t.dot2.x+(h?-y:y),t.dot2.y+(D?-g:g),t.weight),p(d,t.dot1.x+(h?y:-y),t.dot1.y+(D?g:-g),t.dot2.x,t.dot2.y,t.weight)}}})})};window.onload=()=>L("#target");})();
//# sourceMappingURL=index.js.map
